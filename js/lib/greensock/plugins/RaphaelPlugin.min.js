/*!
 * VERSION: beta 0.15
 * DATE: 2013-01-13
 * JavaScript 
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
 * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for 
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
(window._gsQueue||(window._gsQueue=[])).push(function(){_gsDefine("plugins.RaphaelPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){"use strict";var n=function(){e.call(this,"raphael");this._overwriteProps.pop()},r=n.prototype=new e("raphael");r.constructor=n;n.API=2;var i=/[^\d\-\.]/g,s=Math.PI/180,o=180/Math.PI,u=/(\d|\.)+/g,a=function(e){if(typeof e=="number")return[e>>16,e>>8&255,e&255];if(e===""||e==null||e==="none"||typeof e!="string")return p.transparent;if(p[e])return p[e];if(e.charAt(0)==="#"){e.length===4&&(e="#"+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)+e.charAt(3)+e.charAt(3));e=parseInt(e.substr(1),16);return[e>>16,e>>8&255,e&255]}return e.match(u)||p.transparent},f={scaleX:1,scaleY:1,tx:1,ty:1,rotation:1,shortRotation:1,skewX:1,skewY:1,scale:1},l=function(e,t){var n=e.matrix,r=1e-6,i=n.a,s=n.b,o=n.c,u=n.d,a=t?e._gsTransform||{skewY:0}:{skewY:0},f=a.scaleX<0;a.tx=n.e-(a.ox||0);a.ty=n.f-(a.oy||0);a.scaleX=Math.sqrt(i*i+s*s);a.scaleY=Math.sqrt(u*u+o*o);a.rotation=i||s?Math.atan2(s,i):a.rotation||0;a.skewX=o||u?Math.atan2(o,u)+a.rotation:a.skewX||0;if(Math.abs(a.skewX)>Math.PI/2)if(f){a.scaleX*=-1;a.skewX+=a.rotation<=0?Math.PI:-Math.PI;a.rotation+=a.rotation<=0?Math.PI:-Math.PI}else{a.scaleY*=-1;a.skewX+=a.skewX<=0?Math.PI:-Math.PI}a.rotation<r&&a.rotation>-r&&(i||s)&&(a.rotation=0);a.skewX<r&&a.skewX>-r&&(s||o)&&(a.skewX=0);t&&(e._gsTransform=a);return a},c=function(e,t){return e==null?t:typeof e=="string"&&e.indexOf("=")===1?parseInt(e.charAt(0)+"1")*Number(e.substr(2))+t:Number(e)},h=function(e,t){var n=e.indexOf("rad")===-1?s:1,r=e.indexOf("=")===1;e=Number(e.replace(i,""))*n;return r?e+t:e},p={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]};r._onInitTween=function(e,t,n){if(!e.attr)return!1;this._target=e;this._tween=n;this._props=e._gsProps=e._gsProps||{};var r,s,o,u,l,c,h;for(r in t){o=t[r];if(r==="transform"){this._parseTransform(e,o);continue}if(f[r]||r==="pivot"){this._parseTransform(e,t);continue}s=e.attr(r);this._firstPT=u={_next:this._firstPT,t:this._props,p:r,b:s,f:!1,n:"raphael_"+r,r:!1,type:0};if(r==="fill"||r==="stroke"){l=a(s);c=a(o);u.e=o;u.s=Number(l[0]);u.c=Number(c[0])-u.s;u.gs=Number(l[1]);u.gc=Number(c[1])-u.gs;u.bs=Number(l[2]);u.bc=Number(c[2])-u.bs;if(l.length>3||c.length>3){u.as=l.length<4?1:Number(l[3]);u.ac=(c.length<4?1:Number(c[3]))-u.as;u.type=2}else u.type=1}else{s=typeof s=="string"?parseFloat(s.replace(i,"")):Number(s);if(typeof o=="string"){h=o.charAt(1)==="=";o=parseFloat(o.replace(i,""))}else h=!1;u.e=o||o===0?h?o+s:o:t[r];if(!s&&s!==0||!o&&o!==0||!(u.c=h?o:o-s)){u.type=-1;u.i=t[r];u.s=u.c=0}else u.s=s}this._overwriteProps.push("raphael_"+r);u._next&&(u._next._prev=u)}return!0};r._parseTransform=function(e,t){if(this._transform)return;var n=this._transform=l(e,!0),r=1e-6,i,o,u,a,p,d,v,m,g;if(typeof t=="object"){i={scaleX:c(t.scaleX!=null?t.scaleX:t.scale,n.scaleX),scaleY:c(t.scaleY!=null?t.scaleY:t.scale,n.scaleY),tx:c(t.tx,n.tx),ty:c(t.ty,n.ty)};if(t.shortRotation!=null){i.rotation=typeof t.shortRotation=="number"?t.shortRotation*s:h(t.shortRotation,n.rotation);var y=(i.rotation-n.rotation)%(Math.PI*2);y!==y%Math.PI&&(y+=Math.PI*(y<0?2:-2));i.rotation=n.rotation+y}else i.rotation=t.rotation==null?n.rotation:typeof t.rotation=="number"?t.rotation*s:h(t.rotation,n.rotation);i.skewX=t.skewX==null?n.skewX:typeof t.skewX=="number"?t.skewX*s:h(t.skewX,n.skewX);i.skewY=t.skewY==null?n.skewY:typeof t.skewY=="number"?t.skewY*s:h(t.skewY,n.skewY);if(o=i.skewY-n.skewY){i.skewX+=o;i.rotation+=o}i.skewY<r&&i.skewY>-r&&(i.skewY=0);i.skewX<r&&i.skewX>-r&&(i.skewX=0);i.rotation<r&&i.rotation>-r&&(i.rotation=0);g=t.localPivot||t.globalPivot;if(typeof g=="string"){p=g.split(",");d=Number(p[0]);v=Number(p[1])}else if(typeof g=="object"){d=Number(g.x);v=Number(g.y)}else if(t.localPivot){p=e.getBBox(!0);d=p.width/2;v=p.height/2}else{p=e.getBBox();d=p.x+p.width/2;v=p.y+p.height/2}if(t.localPivot){m=e.matrix;d+=e.attr("x");v+=e.attr("y");this._pxl=d;this._pyl=v;this._pxg=d*m.a+v*m.c+m.e-n.tx;this._pyg=d*m.b+v*m.d+m.f-n.ty}else{m=e.matrix.invert();this._pxl=d*m.a+v*m.c+m.e;this._pyl=d*m.b+v*m.d+m.f;this._pxg=d-n.tx;this._pyg=v-n.ty}}else{if(typeof t!="string")return;p=this._target.transform();e.transform(t);i=l(e,!1);e.transform(p)}for(u in f)if(n[u]!==i[u]&&u!=="shortRotation"&&u!=="scale"){this._firstPT=a={_next:this._firstPT,t:n,p:u,s:n[u],c:i[u]-n[u],n:u,f:!1,r:!1,b:n[u],e:i[u],type:0};a._next&&(a._next._prev=a);this._overwriteProps.push("raphael_"+u)}};r.setRatio=function(e){var t=this._firstPT,n;while(t){n=t.c*e+t.s;t.r&&(n=n>0?n+.5>>0:n-.5>>0);t.type?t.type===1?t.t[t.p]="rgb("+(n>>0)+", "+(t.gs+e*t.gc>>0)+", "+(t.bs+e*t.bc>>0)+")":t.type===2?t.t[t.p]="rgba("+(n>>0)+", "+(t.gs+e*t.gc>>0)+", "+(t.bs+e*t.bc>>0)+", "+(t.as+e*t.ac)+")":t.type===-1&&(t.t[t.p]=t.i):t.t[t.p]=n;t=t._next}this._target.attr(this._props);if(this._transform){t=this._transform;var r=t.rotation,i=r-t.skewX,s=Math.cos(r)*t.scaleX,o=Math.sin(r)*t.scaleX,u=Math.sin(i)*-t.scaleY,a=Math.cos(i)*t.scaleY,f=1e-6,l=this._pxl,c=this._pyl;o<f&&o>-f&&(o=0);u<f&&u>-f&&(u=0);t.ox=this._pxg-(l*s+c*u);t.oy=this._pyg-(l*o+c*a);this._target.transform("m"+s+","+o+","+u+","+a+","+(t.tx+t.ox)+","+(t.ty+t.oy))}};e.activate([n]);return n},!0)});window._gsDefine&&_gsQueue.pop()();